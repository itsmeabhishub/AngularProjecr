<div class="container">

  <!-- ðŸ”¹ TOAST MESSAGE -->
  <div class="toast" *ngIf="showMessage">
    {{ message }}
  </div>

  <h2>Product Management</h2>

  <!-- ðŸ”¹ FORM -->
  <form #productForm="ngForm"
        (ngSubmit)="saveProduct()"
        class="form-card">

    <h3>{{ isEdit ? 'Edit Product' : 'Add Product' }}</h3>

    <input type="text"
           name="name"
           placeholder="Product Name"
           [(ngModel)]="product.name"
           required>

    <input type="number"
           name="price"
           placeholder="Price"
           [(ngModel)]="product.price"
           required>

    <!-- âœ… Submit button -->
    <button type="submit"
            [disabled]="productForm.invalid || isLoading">
      {{ isEdit ? 'Update' : 'Add' }}
    </button>

    <!-- âœ… Cancel button -->
    <button type="button"
            *ngIf="isEdit"
            (click)="resetForm()">
      Cancel
    </button>

  </form>

  <!-- ðŸ”¹ TABLE -->
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let p of products">
        <td>{{ p.id }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.price }}</td>
        <td>

          <!-- âœ… Edit button (no submit) -->
          <button type="button"
                  class="edit"
                  (click)="editProduct(p)">
            Edit
          </button>

          <!-- âœ… Delete button -->
          <button type="button"
                  class="delete"
                  (click)="deleteProduct(p.id)">
            Delete
          </button>

        </td>
      </tr>
    </tbody>
  </table>

</div>